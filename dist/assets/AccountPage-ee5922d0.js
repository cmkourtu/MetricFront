import{k as n,j as e,L as o,h as p,i as m,r as v,l as g,m as u,t as d,u as w,K as h,R as y,a as c,O as k,P as N,N as F}from"./index-5efd0932.js";import{i as S}from"./helpers-30af7ef8.js";function P(){const{currentUser:s}=n();return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"card mb-5 mb-xl-10",id:"kt_profile_details_view",children:[e.jsxs("div",{className:"card-header cursor-pointer",children:[e.jsx("div",{className:"card-title m-0",children:e.jsx("h3",{className:"fw-bolder m-0",children:"Profile Details"})}),e.jsx(o,{to:"/crafted/account/settings",className:"btn btn-primary align-self-center fw-bold",children:"Edit Profile"})]}),e.jsxs("div",{className:"card-body p-9",children:[e.jsxs("div",{className:"row mb-7",children:[e.jsx("label",{className:"col-lg-4 fw-bold text-muted",children:"Full Name"}),e.jsx("div",{className:"col-lg-8",children:e.jsxs("span",{className:"fw-bolder fs-6 text-gray-900",children:[s==null?void 0:s.firstName," ",s==null?void 0:s.lastName]})})]}),e.jsxs("div",{className:"row mb-7",children:[e.jsx("label",{className:"col-lg-4 fw-bold text-muted",children:"Company"}),e.jsx("div",{className:"col-lg-8 fv-row",children:e.jsx("span",{className:"fw-bold fs-6",children:s==null?void 0:s.companyName})})]}),e.jsxs("div",{className:"row mb-7",children:[e.jsx("label",{className:"col-lg-4 fw-bold text-muted",children:"Email"}),e.jsx("div",{className:"col-lg-8",children:e.jsx("span",{className:"fw-bolder fs-6 text-gray-900",children:s==null?void 0:s.email})})]})]})]})})}const _=p().shape({email:m().email("Wrong email format").min(3,"Minimum 3 symbols").max(50,"Maximum 50 symbols").required("Email is required"),firstName:m().min(3,"Minimum 3 symbols").max(50,"Maximum 50 symbols").required("First name is required"),lastName:m().min(3,"Minimum 3 symbols").max(50,"Maximum 50 symbols").required("Last name is required")}),E=()=>{const{currentUser:s,setCurrentUser:l,auth:t}=n(),[j]=v.useState({id:(s==null?void 0:s.id)||"",firstName:(s==null?void 0:s.firstName)||"",lastName:(s==null?void 0:s.lastName)||"",companyName:(s==null?void 0:s.companyName)||"",email:(s==null?void 0:s.email)||""}),a=g({initialValues:j,validationSchema:_,onSubmit:async(i,{setSubmitting:x})=>{x(!0);try{const r=t==null?void 0:t.accessToken;if(S(i.id)&&r){const{data:f}=await u(i==null?void 0:i.id,r,i);f&&l(f)}}catch(r){console.error(r)}finally{x(!1)}}});return e.jsxs("div",{className:"card mb-5 mb-xl-10",children:[e.jsx("div",{className:"card-header border-0 cursor-pointer",role:"button","data-bs-toggle":"collapse","data-bs-target":"#kt_account_profile_details","aria-expanded":"true","aria-controls":"kt_account_profile_details",children:e.jsx("div",{className:"card-title m-0",children:e.jsx("h3",{className:"fw-bolder m-0",children:"Profile Details"})})}),e.jsx("div",{id:"kt_account_profile_details",className:"collapse show",children:e.jsxs("form",{onSubmit:a.handleSubmit,noValidate:!0,className:"form",children:[e.jsxs("div",{className:"card-body border-top p-9",children:[e.jsxs("div",{className:"row mb-6",children:[e.jsx("label",{className:"col-lg-4 col-form-label fw-bold fs-6",children:"Avatar"}),e.jsx("div",{className:"col-lg-8",children:e.jsx("div",{className:"image-input image-input-outline","data-kt-image-input":"true",style:{backgroundImage:`url(${d("media/avatars/blank.png")})`},children:e.jsx("div",{className:"image-input-wrapper w-125px h-125px",style:{backgroundImage:`url(${d("media/avatars/blank.png")})`}})})})]}),e.jsxs("div",{className:"row mb-6",children:[e.jsx("label",{className:"col-lg-4 col-form-label required fw-bold fs-6",children:"Full Name"}),e.jsx("div",{className:"col-lg-8",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-lg-6 fv-row",children:[e.jsx("input",{type:"text",className:"form-control form-control-lg form-control-solid mb-3 mb-lg-0",placeholder:"First name",...a.getFieldProps("firstName")}),a.touched.firstName&&a.errors.firstName&&e.jsx("div",{className:"fv-plugins-message-container",children:e.jsx("div",{className:"fv-help-block",children:a.errors.firstName})})]}),e.jsxs("div",{className:"col-lg-6 fv-row",children:[e.jsx("input",{type:"text",className:"form-control form-control-lg form-control-solid",placeholder:"Last name",...a.getFieldProps("lastName")}),a.touched.lastName&&a.errors.lastName&&e.jsx("div",{className:"fv-plugins-message-container",children:e.jsx("div",{className:"fv-help-block",children:a.errors.lastName})})]})]})})]}),e.jsxs("div",{className:"row mb-6",children:[e.jsx("label",{className:"col-lg-4 col-form-label  fw-bold fs-6",children:"Company"}),e.jsx("div",{className:"col-lg-8 fv-row",children:e.jsx("input",{type:"text",className:"form-control form-control-lg form-control-solid",placeholder:"Company name",...a.getFieldProps("companyName")})})]}),e.jsxs("div",{className:"row mb-6",children:[e.jsx("label",{className:"col-lg-4 col-form-label fw-bold fs-6",children:e.jsx("span",{className:"required",children:"Email"})}),e.jsxs("div",{className:"col-lg-8 fv-row",children:[e.jsx("input",{type:"email",className:"form-control form-control-lg form-control-solid",placeholder:"Email",...a.getFieldProps("email")}),a.touched.email&&a.errors.email&&e.jsx("div",{className:"fv-plugins-message-container",children:e.jsx("div",{className:"fv-help-block",children:a.errors.email})})]})]})]}),e.jsx("div",{className:"card-footer d-flex justify-content-end py-6 px-9",children:e.jsxs("button",{type:"submit",className:"btn btn-primary fw-bold","data-kt-users-modal-action":"submit",disabled:a.isSubmitting||!a.isValid||!a.touched,children:[e.jsx("span",{className:"indicator-label",children:"Submit"}),a.isSubmitting&&e.jsxs("span",{className:"indicator-progress",children:["Please wait..."," ",e.jsx("span",{className:"spinner-border spinner-border-sm align-middle ms-2"})]})]})})]})})]})};function q(){return e.jsx(e.Fragment,{children:e.jsx(E,{})})}const A=()=>{const s=w(),{currentUser:l}=n();return e.jsx("div",{className:"card mb-5 mb-xl-10",children:e.jsxs("div",{className:"card-body pt-9 pb-0",children:[e.jsxs("div",{className:"d-flex flex-wrap flex-sm-nowrap mb-3",children:[e.jsx("div",{className:"me-7 mb-4",children:e.jsxs("div",{className:"symbol symbol-100px symbol-lg-160px symbol-fixed position-relative",children:[e.jsx("img",{src:d("media/avatars/blank.png"),alt:"Metronic"}),e.jsx("div",{className:"position-absolute translate-middle  start-100  bg-success rounded-circle border border-4 border-white h-20px w-20px"})]})}),e.jsx("div",{className:"flex-grow-1",children:e.jsx("div",{className:"d-flex justify-content-between align-items-start flex-wrap mb-2",children:e.jsxs("div",{className:"d-flex flex-column",children:[e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsxs("a",{href:"#",className:"text-gray-800 text-hover-primary fs-2 fw-bolder me-1",children:[l==null?void 0:l.firstName," ",l==null?void 0:l.lastName]}),e.jsx("a",{href:"#",children:e.jsx(h,{iconName:"verify",className:"fs-1 text-primary"})})]}),e.jsx("div",{className:"d-flex flex-wrap fw-bold fs-6 mb-4 pe-2",children:(l==null?void 0:l.email)&&e.jsxs("a",{href:"#",className:"d-flex align-items-center text-gray-500 text-hover-primary mb-2",children:[e.jsx(h,{iconName:"sms",className:"fs-4 me-1"}),l==null?void 0:l.email]})})]})})})]}),e.jsx("div",{className:"d-flex overflow-auto h-55px",children:e.jsxs("ul",{className:"nav nav-stretch nav-line-tabs nav-line-tabs-2x border-transparent fs-5 fw-bolder flex-nowrap",children:[e.jsx("li",{className:"nav-item",children:e.jsx(o,{className:"nav-link text-active-primary me-6 "+(s.pathname==="/crafted/account/overview"&&"active"),to:"/crafted/account/overview",children:"Overview"})}),e.jsx("li",{className:"nav-item",children:e.jsx(o,{className:"nav-link text-active-primary me-6 "+(s.pathname==="/crafted/account/settings"&&"active"),to:"/crafted/account/settings",children:"Settings"})})]})})]})})},b=[{title:"Account",path:"/crafted/account/overview",isSeparator:!1,isActive:!1},{title:"",path:"",isSeparator:!0,isActive:!1}],L=()=>e.jsx(y,{children:e.jsxs(c,{element:e.jsxs(e.Fragment,{children:[e.jsx(A,{}),e.jsx(k,{})]}),children:[e.jsx(c,{path:"overview",element:e.jsxs(e.Fragment,{children:[e.jsx(N,{breadcrumbs:b,children:"Overview"}),e.jsx(P,{})]})}),e.jsx(c,{path:"settings",element:e.jsxs(e.Fragment,{children:[e.jsx(N,{breadcrumbs:b,children:"Settings"}),e.jsx(q,{})]})}),e.jsx(c,{index:!0,element:e.jsx(F,{to:"/crafted/account/overview"})})]})});export{L as default};
